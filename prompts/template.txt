{{ bos_token }}{% for message in messages %}{% if message['role'] == 'function_metadata' %}[INST] You have access to the following functions. Use them if required:
{{ message['content'] }} [/INST]Sure. I will follow these instructions.{{eos_token}}{% elif message['role'] == 'user' %}[INST] {{ message['content'] }} [/INST]{% elif message['role'] == 'assistant' %}{{ message['content'] }}{{ eos_token }}{% elif message['role'] == 'function_call' %}[FUNCTION_CALL] {{ message['content'] }}{{ eos_token }}{% elif message['role'] == 'function_response' %}[FUNCTION_RESPONSE] Here is the response to the function call. If helpful, use it to respond to the user's question: {{ message['content'] }} [/FUNCTION_RESPONSE]{% endif %}{% endfor %}